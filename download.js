// 将下列代码作为url创建一个书签，在视频详情页点击即可下载
javascript: function downloadVideo(url, filename) { fetch(url).then(response => response.blob()).then(blob => { const videoUrl = URL.createObjectURL(blob); const link = document.createElement("a"); link.href = videoUrl; link.download = filename; link.click(); URL.revokeObjectURL(videoUrl) }) } if (!window.location.href.startsWith("https://www.douyin.com/video")) { alert("请进入视频的详情页再点击下载") } else { let _video_url = document.querySelector(".xg-video-container video>source").getAttribute("src"); _video_url = _video_url.startsWith("//") ? "https:" + _video_url : _video_url; let _filename = document.querySelector("title").innerText; console.log("视频链接：", _video_url); console.log("视频名称：", _filename); downloadVideo(_video_url, _filename) }